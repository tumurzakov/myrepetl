# MyRepETL Source Code

Этот каталог содержит основной исходный код MyRepETL - инструмента для репликации данных из MySQL с поддержкой трансформаций.

## Структура

- **`cli.py`** - CLI интерфейс для запуска ETL процессов
- **`etl_service.py`** - Основной ETL сервис, координирующий все операции
- **`exceptions.py`** - Пользовательские исключения
- **`transform.py`** - Пример функций трансформации данных

### Подкаталоги

- **`models/`** - Модели данных и конфигурации
  - `config.py` - Модели конфигурации
  - `events.py` - Модели событий MySQL binlog
  - `transforms.py` - Модели трансформаций

- **`services/`** - Бизнес-логика и сервисы
  - `config_service.py` - Сервис управления конфигурацией
  - `database_service.py` - Сервис работы с базами данных
  - `filter_service.py` - Сервис фильтрации данных
  - `replication_service.py` - Сервис репликации MySQL
  - `transform_service.py` - Сервис трансформации данных

- **`utils/`** - Утилиты и вспомогательные функции
  - `logger.py` - Настройка логирования
  - `retry.py` - Механизм повторных попыток
  - `sql_builder.py` - Построитель SQL запросов

## Ключевые решения

1. **Модульная архитектура** - код разделен на логические модули для лучшей поддерживаемости
2. **Сервисный подход** - каждый сервис отвечает за свою область функциональности
3. **Обработка ошибок** - централизованная система исключений
4. **Логирование** - структурированное логирование с поддержкой JSON и консольного форматов
5. **Конфигурируемость** - гибкая система конфигурации через JSON файлы

## Использование

CLI интерфейс доступен через:
```bash
python src/cli.py --help
```

Или после установки пакета:
```bash
myrepetl --help
```
